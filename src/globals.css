@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Dark Theme - Dracula (Default) */
    --bg-primary: 40 42 54; /* #282a36 */
    --bg-secondary: 68 71 90; /* #44475a */
    --bg-surface: 56 58 89; /* #383a59 */
    --text-primary: 248 248 242; /* #f8f8f2 */
    --text-secondary: 226 232 240; /* #e2e8f0 */
    --text-muted: 203 213 225; /* #cbd5e1 */
    --accent-primary: 189 147 249; /* #bd93f9 */
    --accent-secondary: 80 250 123; /* #50fa7b */
    --accent-warning: 255 184 108; /* #ffb86c */
    --accent-error: 255 85 85; /* #ff5555 */
    --accent-info: 139 233 253; /* #8be9fd */
  }

  [data-theme="light"] {
    /* Light Theme */
    --bg-primary: 255 255 255; /* #ffffff */
    --bg-secondary: 248 250 252; /* #f8fafc */
    --bg-surface: 241 245 249; /* #f1f5f9 */
    --text-primary: 15 23 42; /* #0f172a */
    --text-secondary: 51 65 85; /* #334155 */
    --text-muted: 71 85 105; /* #475569 */
    --accent-primary: 59 130 246; /* #3b82f6 */
    --accent-secondary: 16 185 129; /* #10b981 */
    --accent-warning: 245 158 11; /* #f59e0b */
    --accent-error: 239 68 68; /* #ef4444 */
    --accent-info: 6 182 212; /* #06b6d4 */
  }

  * {
    @apply border-gray-200;
  }

  [data-theme="light"] * {
    @apply border-gray-300;
  }
  
  body {
    @apply bg-dracula-bg text-dracula-text font-sans antialiased;
    font-feature-settings: "rlig" 1, "calt" 1;
    overflow-x: hidden;
    max-width: 100vw;
  }
  
  html {
    scroll-behavior: smooth;
  }

  /* Anchor scroll offset for fixed header */
  *[id] {
    scroll-margin-top: 4rem;
  }
}

@layer components {
  .btn {
    @apply inline-flex items-center justify-center rounded-lg px-4 py-2 text-sm font-medium transition-all duration-200;
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-dracula-purple/50 focus-visible:ring-offset-2;
    @apply disabled:pointer-events-none disabled:opacity-50;
  }

  .btn-primary {
    @apply bg-dracula-purple text-white hover:opacity-90 hover:shadow-md;
  }

  .btn-secondary {
    @apply bg-dracula-bg-secondary text-dracula-text border border-dracula-purple/20 hover:bg-dracula-purple/10;
  }

  .btn-outline {
    @apply border border-dracula-purple text-dracula-purple hover:bg-dracula-purple hover:text-white;
  }

  .card {
    @apply bg-dracula-bg border border-dracula-bg-secondary rounded-xl p-6;
    @apply shadow-sm hover:shadow-md transition-all duration-200;
  }

  .code-block {
    @apply bg-dracula-bg-surface border border-dracula-bg-secondary rounded-lg p-4;
    @apply overflow-x-auto overflow-y-hidden max-w-full custom-scrollbar;
  }

  .code-block code {
    @apply text-dracula-text font-mono text-sm whitespace-nowrap block w-max min-w-full;
  }

  /* CLI Install code blocks - force horizontal scrolling */
  .install-code {
    @apply bg-dracula-bg-surface border border-dracula-purple/20 rounded-lg p-3;
    @apply overflow-x-auto overflow-y-hidden w-full custom-scrollbar;
  }

  .install-code code {
    @apply text-dracula-text font-mono text-xs leading-tight;
    @apply whitespace-nowrap inline-block w-max min-w-full;
    word-break: keep-all !important;
    overflow-wrap: normal !important;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
  
  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }

  /* Custom scrollbar styling */
  .custom-scrollbar::-webkit-scrollbar {
    height: 8px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    @apply bg-dracula-bg rounded;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    @apply bg-dracula-purple rounded;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    @apply bg-dracula-cyan;
  }

  /* Light theme overrides */
  [data-theme="light"] .bg-dracula-bg { @apply bg-white; }
  [data-theme="light"] .bg-dracula-bg-secondary { @apply bg-gray-100; }
  [data-theme="light"] .bg-dracula-bg-surface { @apply bg-gray-50; }
  [data-theme="light"] .text-dracula-text { @apply text-gray-900; }
  [data-theme="light"] .text-dracula-text-secondary { @apply text-gray-600; }
  [data-theme="light"] .bg-dracula-purple { @apply bg-blue-600; }
  [data-theme="light"] .text-dracula-purple { @apply text-blue-600; }
  [data-theme="light"] .border-dracula-purple { @apply border-blue-600; }
  [data-theme="light"] .bg-dracula-cyan { @apply bg-cyan-500; }
}